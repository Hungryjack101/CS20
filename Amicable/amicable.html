<html>
<div class="row">
  <div class="column"></div>
  <div class="column"></div>
</div>
<head>
    <link rel="stylesheet" href="amicable.css">
</head>
<h1>Amicable Numbers</h1>
<body>
    <div class = "boxed">
        <form>
            Number 1: <input type= 'number' id='num1' value = '0' class = "input"><br />
            Number 2: <input type= 'number' id='num2' value = '0' class = "input"><br />
            <input type = 'button' class = "submit" value = 'Amicable?' onclick = 'checker()'><br />
        </form>
        <p id="p1"></p>
        <p id="p2"></p>
        <script language="javascript">
            /* Will print the correct message whether the numbers are amicable or not */
            function checker() {
                var num1, num2, biggie;
                num1 = document.getElementById('num1').value;
                num2 = document.getElementById('num2').value;
                if (amicable() == true) {
                    document.getElementById('p1').innerHTML = "The numbers: " + num1 + " and " + num2 + " are amicable\n";
                } else {
                    document.getElementById('p1').innerHTML = "The numbers: " + num1 + " and " + num2 + " are not amicable\n";
                }
            }
            /* Returns true if the numbers are amicable, false otherwise */
            function amicable() {
                var num1, num2;
                num1 = document.getElementById('num1').value;
                num2 = document.getElementById('num2').value;
                var nums1 = [], nums2 = [];
                let j = 0, k = 0;
                let sum1 = 0, sum2 = 0;
                /* For loops find all the factors for each number, then store and add them */
                for (let i = 0; i < num1; i++) {
                    if (isFactor(i, num1)) {
                        nums1[j] = i;
                        j++;
                        sum1 += i;
                    }
                }
                for (let i = 0; i < num2; i++) {
                    if (isFactor(i, num2)) {
                        nums2[k] = i;
                        k++;
                        sum2 += i;
                    }
                }
                printFactors(nums1, j, nums2, k);
                if (sum1 == num2 && sum2 == num1) {
                    return true;
                } else {
                    return false;
                }
            }
            /* In the name! */
            function isFactor(i, num) {
                if (num % i == 0) {
                    return true;
                } else {
                    return false;
                }
            }
        </script>
    </div>
    <div class = "factors">
        <script language = "javascript">
            /* Printing the factors for each number at bottom of the page */
            function printFactors(nums1, j, nums2, k) {
                let string1 = "Factors for number 1: ";
                for (let i = 0; i < j; i++) {
                    string1 += nums1[i];
                    if (i != j - 1) {
                        string1 += ", ";
                    }
                }
                let string2 = "Factors for number 2: ";
                for (let i = 0; i < k; i++) {
                    string2 += nums2[i];
                    if (i != k - 1) {
                        string2 += ", ";
                    }
                }
                document.getElementById('p2').innerHTML = string1 + "<br />" + string2;
            }
        </script>
    </div>
</body>
</html>